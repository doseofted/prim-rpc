{/* SECTION: setup */}

import { LayoutDocs } from "@/components/LayoutDocs"
import { Alert } from "@/components/Alert"
import { Tab } from "@headlessui/react"
export const meta = {
	title: "Setup",
}
export default ({ children }) => <LayoutDocs meta={meta}>{children}</LayoutDocs>

{/* !SECTION setup */}

# {meta.title}

In this guide, we'll learn how to set up an existing project to use Prim+RPC. If you're starting a new project, we'll
include some examples to get started. You may also reference [the available examples](/docs/examples) on this website.

## Table of Contents

## Installation

We will be setting up Prim+RPC on both the **server** and the **client**.

The server is where your JavaScript functions are located; functions that you'd like to share with someone else. The
client will call these JavaScript functions remotely. Typically the server is some HTTP or WebSocket server and the
client is a web browser or native application that makes requests to this server. In other cases, the server may be
running in one process while the client is running in a separate process on the same machine. However you're using up
Prim+RPC, this guide should apply to all relationships between client and server.

The first step to use Prim+RPC will be to add the library to both the server and client portions of your project. If
your client and server are located in separate projects, you should install the following packages in both:

- **Prim+RPC**: contains both client and server tools for making RPC; framework-agnostic
- **Prim+RPC Plugins**: framework-specific plugins for Prim+RPC, both client and server side

You may optionally install **Prim+RPC Tooling** for helpful Prim+RPC-related tools. The Tooling package is completely
optional and includes utilities like a documentation generator as well as a build plugin that prevents the import of a
function from the server directly (it's always safe to import types but the import of code from the server is usually
not intended so this plugin stops that from happening). The Tooling package is included in the install commands below.

Provided are installation commands for common package managers.

<CH.Code>

```zsh npm
npm add @doseofted/prim-rpc @doseofted/prim-rpc-plugins @doseofted/prim-rpc-tooling
```

```zsh yarn
yarn add @doseofted/prim-rpc @doseofted/prim-rpc-plugins @doseofted/prim-rpc-tooling
```

```zsh pnpm
pnpm add @doseofted/prim-rpc @doseofted/prim-rpc-plugins @doseofted/prim-rpc-tooling
```

</CH.Code>

You may also use Prim+RPC from a CDN:

<CH.Code>

```ts esm.sh
import { createPrimServer, createPrimClient } from "https://esm.sh/@doseofted/prim-rpc"
// use available export in place of {PLUGIN_NAME} below
import {
	createMethodHandler,
	createCallbackHandler,
	createMethodPlugin,
	createCallbackPlugin,
} from "https://esm.sh/@doseofted/prim-rpc-plugins/{PLUGIN_NAME}"
// the following import is only if you're using Prim+RPC tooling
import "https://esm.sh/@doseofted/prim-rpc-tooling/{TOOL_NAME}"
```

```ts skypack.dev
import { createPrimServer, createPrimClient } from "https://cdn.skypack.dev/@doseofted/prim-rpc"
// use available export in place of {PLUGIN_NAME} below
import {
	createMethodHandler,
	createCallbackHandler,
	createMethodPlugin,
	createCallbackPlugin,
} from "https://cdn.skypack.dev/@doseofted/prim-rpc-plugins/{PLUGIN_NAME}"
// the following import is only if you're using Prim+RPC tooling
import "https://cdn.skypack.dev/@doseofted/prim-rpc-tooling/{TOOL_NAME}"
```

```ts unpkg.com
import { createPrimServer, createPrimClient } from "https://unpkg.com/@doseofted/prim-rpc"
// use available export in place of {PLUGIN_NAME} below
import {
	createMethodHandler,
	createCallbackHandler,
	createMethodPlugin,
	createCallbackPlugin,
} from "https://unpkg.com/@doseofted/prim-rpc-plugins/{PLUGIN_NAME}"
// the following import is only if you're using Prim+RPC tooling
import "https://unpkg.com/@doseofted/prim-rpc-tooling/{TOOL_NAME}"
```

</CH.Code>

Now you're ready to start setting up the client and the server! You may either follow setup instructions below or you
can look at [one of the available examples](/docs/examples) for reference.

We'll separate client/server steps and start with the server first.

## Server Setup

The Prim+RPC server hosts your JavaScript functions and makes them available to the Prim+RPC client. You can write
regular JavaScript functions and then pass them to Prim+RPC to make them available to the server.

Prim+RPC works with the server of your choice. You may browse the available plugins on this documentation website.

## Client Setup

WIP.
